(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[253],{3369:function(e,t,a){"use strict";a.r(t);var n=a(18),l=a(0),r=a.n(l),c=a(53),u=a(2278),i=a(31),s=a(100),o=a(70),m=a(679),d=a(1357),b=a(298),p=a(1638),v=a(598),f=a(678),O=a(1417),g=a(149),E=a.n(g),y=a(4);t.default=function(){var e=Object(l.useState)(1),t=Object(n.a)(e,2),a=t[0],g=(t[1],Object(l.useState)("")),j=Object(n.a)(g,2),h=j[0],S=j[1],N=Object(l.useState)(""),_=Object(n.a)(N,2),C=_[0],x=_[1],z=Object(l.useState)(""),w=Object(n.a)(z,2),T=w[0],P=w[1],I=Object(l.useState)(""),M=Object(n.a)(I,2),U=M[0],W=M[1],D=Object(l.useState)("1"),k=Object(n.a)(D,2),A=k[0],V=k[1],q=Object(l.useState)(""),R=Object(n.a)(q,2),L=R[0],F=R[1],J=Object(l.useState)(""),G=Object(n.a)(J,2),H=G[0],Q=G[1],Y=Object(l.useState)(""),B=Object(n.a)(Y,2),K=B[0],X=B[1],Z=Object(l.useState)(""),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(l.useState)(""),ne=Object(n.a)(ae,2),le=ne[0],re=ne[1],ce=Object(l.useState)(""),ue=Object(n.a)(ce,2),ie=ue[0],se=ue[1],oe=Object(l.useState)(""),me=Object(n.a)(oe,2),de=me[0],be=me[1],pe=Object(l.useState)([]),ve=Object(n.a)(pe,2),fe=(ve[0],ve[1],Object(l.useState)([])),Oe=Object(n.a)(fe,2),ge=Oe[0],Ee=Oe[1],ye=Object(l.useState)([]),je=Object(n.a)(ye,2),he=je[0],Se=je[1],Ne=Object(l.useState)([]),_e=Object(n.a)(Ne,2),Ce=_e[0],xe=_e[1],ze=Object(i.g)(),we=Object(l.useState)(!0),Te=Object(n.a)(we,2),Pe=Te[0],Ie=Te[1],Me=Object(l.useState)([]),Ue=Object(n.a)(Me,2),We=(Ue[0],Ue[1]),De=Object(l.useState)([]),ke=Object(n.a)(De,2),Ae=(ke[0],ke[1]),Ve=Object(l.useState)(),qe=Object(n.a)(Ve,2),Re=(qe[0],qe[1]),Le=Object(l.useState)(""),Fe=Object(n.a)(Le,2),Je=(Fe[0],Fe[1]),Ge=Object(o.a)().user,He=window.location.search,Qe=(new URLSearchParams(He),Object(i.i)().id),Ye=Object(l.useState)([]),Be=Object(n.a)(Ye,2),Ke=Be[0],Xe=Be[1];Object(l.useEffect)((function(){return y.g.get("mjrProductUpdate/"+Qe).then((function(e){var t,a=e.data;Pe&&We(a),Xe(null===a||void 0===a?void 0:a.uom),x(a.product[0].description),be(a.product[0].name_in_ar),P(a.product[0].unit_of_measure),Re(a.product[0].category_id),S(a.product[0].name),Se(null===a||void 0===a||null===(t=a.getAllCat)||void 0===t?void 0:t.filter((function(e){return e.div_id==localStorage.getItem("division")}))),W(a.product[0].category_name),V(a.product[0].category_id),se(a.product[0].manufacturer_id),re(a.product[0].modelno),Q(a.product[0].hsn_code),F(a.product[0].type),X(a.product[0].initial_quantity),te(a.product[0].minimum_quantity),Je(a.product[0].id),Je(a.product[0].party_id),re(a.product[0].model_no),Ae(a.product_in_category),Ee(a.manufacture.filter((function(e){return e.div_id==localStorage.getItem("division")})))})),function(){return Ie(!1)}}),[]);var Ze=ge.map((function(e,t){return{label:e.name,value:e.id,key:t}}));return r.a.createElement("div",{className:"m-sm-30"},r.a.createElement("div",{className:"mb-sm-30"},r.a.createElement(s.b,{routeSegments:[{name:"PRODUCT CATEGORY",path:"/product/viewsubcategory"},{name:"UPDATE PRODUCT"}]})),r.a.createElement(d.a,{className:"p-4"},r.a.createElement(c.ValidatorForm,{onSubmit:function(){var e={name:h||"",description:C||"",unit_of_measure:T,division_id:a,type:L,hsn_code:H,initial_quantity:K,minimum_quantity:ee,category_id:A,model_no:le,manufacturer_id:ie,div_id:localStorage.getItem("division"),user_id:Ge.id};y.g.put("products/"+Qe,e).then((function(e){E.a.fire({title:"Success",type:"success",icon:"success",text:"Data saved successfully."}).then((function(e){A?ze.push(y.w+"/product/Viewproduct/".concat(A)):ze.push(y.w+"/product/viewsubcategory")}))})).catch((function(e){}))},onError:function(){return null}},r.a.createElement(b.a,{container:!0,spacing:6},r.a.createElement(b.a,{item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement("h6",null,"UPDATE PRODUCT DETAILS"),r.a.createElement(c.TextValidator,{className:"mb-4 mt-2 w-full",label:"Product Name",variant:"outlined",size:"small",value:h,onChange:function(e){return S(e.target.value)},type:"text",name:"product",inputProps:{style:{textTransform:"capitalize"}}}),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0646\u062a\u062c",variant:"outlined",size:"small",value:de,onChange:function(e){return be(e.target.value)},type:"text",name:"product"}),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",label:"Description",type:"text",size:"small",multiline:!0,value:C,onChange:function(e){return x(e.target.value)},name:"description",variant:"outlined",inputProps:{style:{textTransform:"capitalize"}}}),r.a.createElement("div",{className:"flex mb-4"},r.a.createElement("div",{style:{width:"300px"},className:"mr-2"},r.a.createElement(m.a,{htmlFor:"UOM",style:{fontSize:10}},"UOM"),r.a.createElement(c.TextValidator,{className:"mb-4 w-full",size:"small",select:!0,value:T,name:"uom",variant:"outlined",onChange:function(e){return P(e.target.value)},inputProps:{style:{textTransform:"capitalize"}}},r.a.createElement(p.a,{value:""},"Choose UOM"),Ke.map((function(e){return r.a.createElement(p.a,{value:e.value},e.label)})))),r.a.createElement("div",{style:{width:"350px"},className:"ml-2"},r.a.createElement(m.a,{style:{fontSize:10}},"Manufacture"),r.a.createElement(u.a,{name:"Manufacture",menuPortalTarget:document.body,size:"small",fullWidth:!0,InputLabel:"Manufacture",onChange:function(e){return se(e.value)},variant:"contained",value:Ze.find((function(e){return e.value===ie})),options:Ze})))),r.a.createElement(b.a,{item:!0,lg:6,md:6,sm:12,xs:12},r.a.createElement("div",{className:"flex mb-4 mt-8"},r.a.createElement(v.a,{className:"mr-2",variant:"outlined",label:"Product Type",size:"small",value:L,fullWidth:!0,onChange:function(e){return F(e.target.value)},select:!0},["Non Inventory","Inventory","Service"].map((function(e){return r.a.createElement(p.a,{value:e,key:e},e)}))),r.a.createElement(v.a,{className:"ml-2",label:"HSN number",size:"small",variant:"outlined",onChange:function(e){return Q(e.target.value)},type:"text",name:"hsn",value:H,fullWidth:!0})),r.a.createElement("div",{className:"flex mb-4"},r.a.createElement(v.a,{className:"mr-2",label:"Initial quantity",variant:"outlined",onChange:function(e){return X(e.target.value)},value:K,size:"small",type:"number",fullWidth:!0,validators:["isNumber"],errorMessages:["Invalid Number"]}),r.a.createElement(v.a,{className:"ml-2",fullWidth:!0,label:"Minimum Quantity",variant:"outlined",value:ee,size:"small",type:"number",onChange:function(e){return te(e.target.value)},validators:["isNumber"],errorMessages:["Invalid Number"]})),r.a.createElement("div",{className:"flex mb-4"},null==U?r.a.createElement(v.a,{className:"mr-2",label:"Category",variant:"outlined",select:!0,onChange:function(e){var t=he.filter((function(t){return t.parent_id==e.target.value}));xe(t)},fullWidth:!0,size:"small"},r.a.createElement(p.a,null,"Choose Category"),he.filter((function(e){return null==e.parent_id})).map((function(e,t){return r.a.createElement(p.a,{key:t,value:e.id},e.name)}))):r.a.createElement(v.a,{className:"mr-2",label:"Sub Category",variant:"outlined",onChange:function(e){return W(e.value)},value:U,fullWidth:!0,size:"small",readonly:!0}),Ce.length>0&&r.a.createElement(v.a,{className:"mr-2",label:"Sub Category",variant:"outlined",select:!0,onChange:function(e){V(e.target.value)},fullWidth:!0,size:"small"},r.a.createElement(p.a,null,"Choose Sub Category"),Ce.filter((function(e){return null!==e.parent_id})).map((function(e,t){return r.a.createElement(p.a,{value:e.id,key:t},e.name)}))),r.a.createElement(v.a,{className:"ml-2",label:"Model number",size:"small",variant:"outlined",onChange:function(e){return re(e.target.value)},type:"text",name:"hsn",value:le,fullWidth:!0})),r.a.createElement("div",{className:"flex mb-4"}))),r.a.createElement("div",{className:"flex mb-4"},r.a.createElement(f.a,{color:"primary",className:"mr-4 py-2",variant:"outlined",type:"submit"},r.a.createElement(O.a,null,"save"),r.a.createElement("span",{className:"pl-2 capitalize"},"SAVE")),r.a.createElement(f.a,{className:"mr-4 py-2",color:"secondary",variant:"outlined",type:"submit",onClick:function(){return ze.push("/singleproduct/".concat(Qe))}},r.a.createElement(O.a,null,"cancel"),r.a.createElement("span",{className:"pl-2 capitalize"},"CANCEL"))))))}}}]);