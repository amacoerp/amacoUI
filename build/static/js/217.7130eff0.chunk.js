(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[217],{2870:function(e,a,t){"use strict";t.r(a);var n=t(20),l=t(17),r=t(1),c=t.n(r),i=t(1167),s=t(1223),o=t(1384),m=t(1387),u=t(1385),d=t(1382),b=t(1386),p=t(570),v=t(1196),f=t(1393),E=t(22),g=t.n(E),h=t(8),x=t(1220),j=t(1222),N=t(1168),O=t(1463),y=t(56),C=t(118),w=function(e){var a=e.uid,t=e.open,l=e.handleClose,s=Object(r.useState)({name:"",email:"",phone:"",balance:"",age:"",company:"",address:"",isActive:!1}),o=Object(n.a)(s,2),m=o[0],u=o[1],d=function(e,a){e.persist(),u("switch"!==a?Object(h.a)(Object(h.a)({},m),{},{[e.target.name]:e.target.value}):Object(h.a)(Object(h.a)({},m),{},{isActive:e.target.checked}))};return Object(r.useEffect)((function(){var e;(e=a,g.a.get("/api/user",{data:e})).then((function(e){return u(Object(h.a)({},e.data))}))}),[a]),c.a.createElement(x.a,{onClose:l,open:t},c.a.createElement("div",{className:"p-6"},c.a.createElement("h4",{className:"mb-5"},"Update Member"),c.a.createElement(y.ValidatorForm,{onSubmit:function(){var e;m.id?(e=Object(h.a)({},m),g.a.post("/api/user/update",e)).then((function(){l()})):function(e){return g.a.post("/api/user/add",e)}(Object(h.a)({id:Object(C.c)()},m)).then((function(){l()}))}},c.a.createElement(j.a,{className:"mb-4",container:!0,spacing:4},c.a.createElement(j.a,{item:!0,sm:6,xs:12},c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Name",onChange:d,type:"text",name:"name",value:null===m||void 0===m?void 0:m.name,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Email",onChange:d,type:"text",name:"email",value:null===m||void 0===m?void 0:m.email,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Phone",onChange:d,type:"text",name:"phone",value:null===m||void 0===m?void 0:m.phone,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Balance",onChange:d,type:"number",name:"balance",value:null===m||void 0===m?void 0:m.balance,validators:["required"],errorMessages:["this field is required"]})),c.a.createElement(j.a,{item:!0,sm:6,xs:12},c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Age",onChange:d,type:"number",name:"age",value:null===m||void 0===m?void 0:m.age,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Company",onChange:d,type:"text",name:"company",value:null===m||void 0===m?void 0:m.company,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(y.TextValidator,{className:"w-full mb-4",label:"Address",onChange:d,type:"text",name:"address",value:null===m||void 0===m?void 0:m.address,validators:["required"],errorMessages:["this field is required"]}),c.a.createElement(N.a,{className:"my-5",control:c.a.createElement(O.a,{checked:null===m||void 0===m?void 0:m.isActive,onChange:function(e){return d(e,"switch")}}),label:"Active Customer"}))),c.a.createElement("div",{className:"flex justify-between items-center"},c.a.createElement(i.a,{variant:"contained",color:"primary",type:"submit"},"Save"),c.a.createElement(i.a,{variant:"outlined",color:"secondary",onClick:function(){return l()}},"Cancel")))))},q=t(91),P=t(2022),S=t.n(P),k=t(1166),A=t(5),T=Object(k.a)((function(e){e.palette,Object(l.a)(e,["palette"]);return{productTable:{"& thead":{"& th:first-child":{paddingLeft:16}},"& td":{borderBottom:"none"},"& td:first-child":{paddingLeft:"16px !important"}}}}));a.default=function(){var e=Object(r.useState)(null),a=Object(n.a)(e,2),t=a[0],l=a[1],E=Object(r.useState)(10),h=Object(n.a)(E,2),x=h[0],j=h[1],N=Object(r.useState)(0),O=Object(n.a)(N,2),y=O[0],C=O[1],P=Object(r.useState)(null),k=Object(n.a)(P,2),M=k[0],V=k[1],B=Object(r.useState)([]),z=Object(n.a)(B,2),D=z[0],I=z[1],J=Object(r.useState)(!1),L=Object(n.a)(J,2),R=L[0],U=L[1],F=Object(r.useState)(!1),Y=Object(n.a)(F,2),$=Y[0],G=Y[1],H=T(),K=function(){U(!1),G(!1),Q()},Q=function(){g.a.get("/api/user/all").then((function(e){var a=e.data;I(a)}))};return Object(r.useEffect)((function(){Q()}),[]),c.a.createElement("div",{className:"m-sm-30"},c.a.createElement("div",{className:"mb-sm-30"},c.a.createElement(q.b,{routeSegments:[{name:"CRUD Table"}]})),c.a.createElement(i.a,{className:"mb-4",variant:"contained",color:"primary",onClick:function(){return U(!0)}},"Add New Member"),c.a.createElement(s.a,{className:"w-full overflow-auto",elevation:6},c.a.createElement(o.a,{className:Object(A.default)("whitespace-pre min-w-750",H.productTable)},c.a.createElement(m.a,null,c.a.createElement(u.a,null,c.a.createElement(d.a,null,"Name"),c.a.createElement(d.a,null,"Age"),c.a.createElement(d.a,null,"Balance"),c.a.createElement(d.a,null,"Company"),c.a.createElement(d.a,null,"Status"),c.a.createElement(d.a,null,"Action"))),c.a.createElement(b.a,null,null===D||void 0===D?void 0:D.slice(y*x,y*x+x).map((function(e,a){return c.a.createElement(u.a,{hover:!0,key:S.a.generate()},c.a.createElement(d.a,{className:"px-0",align:"left"},e.name),c.a.createElement(d.a,{className:"px-0",align:"left"},e.age),c.a.createElement(d.a,{className:"px-0"},"$",e.balance),c.a.createElement(d.a,{className:"px-0",align:"left"},e.company),c.a.createElement(d.a,{className:"px-0"},e.isActive?c.a.createElement("small",{className:"rounded bg-primary elevation-z3 text-white px-2 py-2px"},"active"):c.a.createElement("small",{className:"rounded bg-light-gray elevation-z3 px-2 py-2px"},"inactive")),c.a.createElement(d.a,{className:"px-0 border-none"},c.a.createElement(p.a,{onClick:function(){l(e.id),U(!0)}},c.a.createElement(v.a,{color:"primary"},"edit")),c.a.createElement(p.a,{onClick:function(){return function(e){V(e),G(!0)}(e)}},c.a.createElement(v.a,{color:"error"},"delete"))))})))),c.a.createElement(f.a,{className:"px-4",rowsPerPageOptions:[5,10,25],component:"div",count:null===D||void 0===D?void 0:D.length,rowsPerPage:x,page:y,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:function(e,a){C(a)},onChangeRowsPerPage:function(e){var a=e.target.value;return j(a)}}),R&&c.a.createElement(w,{handleClose:K,open:R,uid:t}),$&&c.a.createElement(q.d,{open:$,onConfirmDialogClose:K,onYesClick:function(){var e;(e=M,g.a.post("/api/user/delete",e)).then((function(){K()}))},text:"Are you sure to delete?"})))}}}]);