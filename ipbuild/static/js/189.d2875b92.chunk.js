(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[189],{2026:function(e,t,a){"use strict";var n=a(3),r=a(6),i=a(0),o=a(5),l=a(671),s=a(11),c=a(129),d=i.forwardRef((function(e,t){var a=e.children,s=e.classes,d=e.className,m=e.component,u=void 0===m?"div":m,g=e.disablePointerEvents,p=void 0!==g&&g,f=e.disableTypography,b=void 0!==f&&f,h=e.position,v=e.variant,y=Object(r.a)(e,["children","classes","className","component","disablePointerEvents","disableTypography","position","variant"]),O=Object(c.b)()||{},E=v;return v&&O.variant,O&&!E&&(E=O.variant),i.createElement(c.a.Provider,{value:null},i.createElement(u,Object(n.a)({className:Object(o.default)(s.root,d,"end"===h?s.positionEnd:s.positionStart,p&&s.disablePointerEvents,O.hiddenLabel&&s.hiddenLabel,"filled"===E&&s.filled,"dense"===O.margin&&s.marginDense),ref:t},y),"string"!==typeof a||b?a:i.createElement(l.a,{color:"textSecondary"},a)))}));t.a=Object(s.a)({root:{display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap"},filled:{"&$positionStart:not($hiddenLabel)":{marginTop:16}},positionStart:{marginRight:8},positionEnd:{marginLeft:8},disablePointerEvents:{pointerEvents:"none"},hiddenLabel:{},marginDense:{}},{name:"MuiInputAdornment"})(d)},2043:function(e,t,a){"use strict";var n=a(6),r=a(3),i=a(0),o=a(5),l=a(11),s=a(665),c=a(15),d=i.forwardRef((function(e,t){var a=e.children,l=e.classes,d=e.className,m=e.color,u=void 0===m?"default":m,g=e.component,p=void 0===g?"button":g,f=e.disabled,b=void 0!==f&&f,h=e.disableFocusRipple,v=void 0!==h&&h,y=e.focusVisibleClassName,O=e.size,E=void 0===O?"large":O,x=e.variant,C=void 0===x?"circular":x,j=Object(n.a)(e,["children","classes","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"]);return i.createElement(s.a,Object(r.a)({className:Object(o.default)(l.root,d,"large"!==E&&l["size".concat(Object(c.a)(E))],b&&l.disabled,"extended"===C&&l.extended,{primary:l.primary,secondary:l.secondary,inherit:l.colorInherit}[u]),component:p,disabled:b,focusRipple:!v,focusVisibleClassName:Object(o.default)(l.focusVisible,y),ref:t},j),i.createElement("span",{className:l.label},a))}));t.a=Object(l.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:e.shadows[6],"&:active":{boxShadow:e.shadows[12]},color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],"&:hover":{backgroundColor:e.palette.grey.A100,"@media (hover: none)":{backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground},textDecoration:"none"},"&$focusVisible":{boxShadow:e.shadows[6]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},primary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},secondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},extended:{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48,"&$sizeSmall":{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"&$sizeMedium":{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40}},focusVisible:{},disabled:{},colorInherit:{color:"inherit"},sizeSmall:{width:40,height:40},sizeMedium:{width:48,height:48}}}),{name:"MuiFab"})(d)},2050:function(e,t,a){"use strict";a(89);var n=a(3),r=a(6),i=a(0),o=a(5),l=a(11),s=a(15),c=i.forwardRef((function(e,t){var a=e.anchorOrigin,l=void 0===a?{vertical:"top",horizontal:"right"}:a,c=e.badgeContent,d=e.children,m=e.classes,u=e.className,g=e.color,p=void 0===g?"default":g,f=e.component,b=void 0===f?"span":f,h=e.invisible,v=e.max,y=void 0===v?99:v,O=e.overlap,E=void 0===O?"rectangle":O,x=e.showZero,C=void 0!==x&&x,j=e.variant,w=void 0===j?"standard":j,S=Object(r.a)(e,["anchorOrigin","badgeContent","children","classes","className","color","component","invisible","max","overlap","showZero","variant"]),N=h;null==h&&(0===c&&!C||null==c&&"dot"!==w)&&(N=!0);var R="";return"dot"!==w&&(R=c>y?"".concat(y,"+"):c),i.createElement(b,Object(n.a)({className:Object(o.default)(m.root,u),ref:t},S),d,i.createElement("span",{className:Object(o.default)(m.badge,m["".concat(l.horizontal).concat(Object(s.a)(l.vertical),"}")],m["anchorOrigin".concat(Object(s.a)(l.vertical)).concat(Object(s.a)(l.horizontal)).concat(Object(s.a)(E))],"default"!==p&&m["color".concat(Object(s.a)(p))],N&&m.invisible,"dot"===w&&m.dot)},R))}));t.a=Object(l.a)((function(e){return{root:{position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0},badge:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen})},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},colorError:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText},dot:{borderRadius:4,height:8,minWidth:8,padding:0},anchorOriginTopRightRectangle:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightRectangular:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightRectangle:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightRectangular:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftRectangle:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftRectangular:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftRectangle:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftRectangular:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginTopRightCircle:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginTopRightCircular:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%","&$invisible":{transform:"scale(0) translate(50%, -50%)"}},anchorOriginBottomRightCircle:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginBottomRightCircular:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%","&$invisible":{transform:"scale(0) translate(50%, 50%)"}},anchorOriginTopLeftCircle:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginTopLeftCircular:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%","&$invisible":{transform:"scale(0) translate(-50%, -50%)"}},anchorOriginBottomLeftCircle:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},anchorOriginBottomLeftCircular:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%","&$invisible":{transform:"scale(0) translate(-50%, 50%)"}},invisible:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}}),{name:"MuiBadge"})(c)},3462:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(18),i=a(0),o=a.n(i),l=a(191),s=a(100),c=a(683),d=a(594),m=a(2026),u=a(1414),g=a(1659),p=a(2043),f=a(47),b=a(19),h=a(1632),v=a(673),y=a(1437),O=a(297),E=a(674),x=a(53),C=a(70),j=a(1550),w=a.n(j),S=a(149),N=a.n(S),R=a(4),k=["index"],T=Object(c.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}})),z=function(e){e.uid;var t=e.open,a=e.handleClose,n=e.catid,l=e.catList,s=(T(),Object(i.useState)("")),c=Object(r.a)(s,2),d=c[0],m=c[1],p=Object(i.useState)(""),f=Object(r.a)(p,2),j=f[0],S=f[1],z=Object(i.useState)([]),A=Object(r.a)(z,2),$=A[0],I=A[1],L=Object(i.useState)(!0),W=Object(r.a)(L,2),B=W[0],D=W[1],_=Object(i.useState)(""),P=Object(r.a)(_,2),M=P[0],V=P[1],F=Object(i.useState)(!1),H=Object(r.a)(F,2),Y=H[0],G=H[1],U=o.a.useState(!0),q=Object(r.a)(U,2),J=q[0],Z=(q[1],o.a.useState("sm")),K=Object(r.a)(Z,2),Q=K[0],X=(K[1],Object(C.a)().user),ee={top:"0px",left:"0px",zIndex:"100",position:"sticky",backgroundColor:"#fff",width:"50px",wordBreak:"break-word",wordWrap:"break-word",overflowWrap:"break-word",hyphens:"auto"},te=function(e){var t=e.split(" "),a=[];return t.forEach((function(e){a.push(e[0].toUpperCase()+e.slice(1))})),a.join(" ")};function ae(){n?R.g.get("sub-category/".concat(n)).then((function(e){var t=e.data;I(t),D(!B)})):R.g.get("categories").then((function(e){var t=e.data;I(t),D(!B)}))}Object(i.useEffect)((function(){}),[]);var ne=[{name:"name",label:"NAME",options:{filter:!0}},{name:"id",label:"Action",options:{customHeadRender:function(e){var t=e.index;Object(b.a)(e,k);return o.a.createElement(h.a,{key:t,style:{textAlign:"right"}},o.a.createElement("span",{style:{paddingLeft:15}},"ACTION"))},customBodyRender:function(e,t,n){return o.a.createElement("div",{style:{textAlign:"right"}},o.a.createElement(v.a,{onClick:function(){return e=t.rowData[1],void N.a.fire({title:"Are you sure you want to delete?",text:"Any products, services will be uncategorised.",icon:"warning",showCancelButton:!0,customClass:{zIndex:1e3},confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(t){t.value?(R.g.delete("categories/".concat(e)).then((function(e){Object(R.m)().then((function(e){var t=e.data;l(t.filter((function(e){return e.div_id==localStorage.get("division")})))}))})),D(!0),a(),N.a.fire({customClass:{zIndex:1e3},text:"Category Deleted Successfully",icon:"success"})):t.dismiss===N.a.DismissReason.cancel&&N.a.fire({customClass:{zIndex:1e3},title:"Cancelled",icon:"error"})}));var e},style:{columnStyleWithWidth1:ee}},o.a.createElement(u.a,{color:"error"},"delete")))}}}];return o.a.createElement(y.a,{onClose:a,open:t,className:"px-6 pt-2 pb-4",style:{zIndex:1e3},fullWidth:J,maxWidth:Q},o.a.createElement("div",{className:"p-6"},n&&o.a.createElement("h5",{className:"mb-5"},"ADD SUB CATEGORY"),!n&&o.a.createElement("h5",{className:"mb-5"},"ADD CATEGORY"),o.a.createElement(x.ValidatorForm,{onSubmit:function(){G(!0);var e=[];Object(R.m)().then((function(t){var r=t.data;for(var i in r)e.push(r[i].name);if(e.indexOf(d)>-1)V(!0),n=null;else{var o={name:d?te(d):null,description:j?te(j):null,parent_id:n,user_id:X.id,div_id:localStorage.getItem("division")};R.g.post("categories",o).then((function(e){Object(R.m)(),N.a.fire({title:"Success",type:"success",icon:"success",text:"Data saved successfully."}).then((function(e){Object(R.m)().then((function(e){var t=e.data.filter((function(e){return e.div_id==localStorage.getItem("division")}));l(t)}))})),n=null,a()})).catch((function(e){})),S(""),m(""),n=null}}))},autoComplete:"off"},o.a.createElement(O.a,{className:"mb-4",container:!0,spacing:4},o.a.createElement(O.a,{item:!0,sm:6,xs:12},o.a.createElement(x.TextValidator,{className:"w-full mb-4",label:n?"Sub Category Name":"Category Name",autoComplete:"off",variant:"outlined",onChange:function(e){return m(e.target.value)},type:"text",inputProps:{style:{textTransform:"capitalize"}},name:"cname",value:d,validators:["required"],errorMessages:["this field is required"]}),M&&o.a.createElement("span",null,o.a.createElement(u.a,{className:"mr-2",fontSize:"small",color:"error"},"info"),o.a.createElement("small",{style:{color:"red"}},"Category already Exists")))),o.a.createElement("div",{className:"flex"},o.a.createElement(E.a,{variant:"outlined",color:"primary",type:"submit",className:"mr-4 py-2",disabled:Y},o.a.createElement(u.a,null,"save")," SAVE"),o.a.createElement(E.a,{className:"mr-4 py-2",variant:"outlined",color:"secondary",onClick:function(){a()}},o.a.createElement(u.a,null,"cancel"),"CANCEL"),o.a.createElement(E.a,{color:".bg-green",variant:"outlined",className:"mr-4 py-2",type:"reset",onClick:function(){m(""),S("")}},o.a.createElement(u.a,null,"loop"),"RESET"),B&&o.a.createElement(g.a,{title:"view"},o.a.createElement(u.a,{color:"primary",align:"right",style:{position:"absolute",right:50},onClick:function(){return ae()}},"expand_more")),!B&&o.a.createElement(g.a,{title:"view"},o.a.createElement(u.a,{color:"primary",align:"right",style:{position:"absolute",right:50},onClick:function(){return ae()}},"expand_less")))),!B&&o.a.createElement(w.a,{title:"CATEGORY",columns:ne,data:$.filter((function(e){return e.div_id==localStorage.getItem("division")})),options:{filterType:"textField",responsive:"simple",selectableRows:"none",elevation:0,rowsPerPageOptions:[10,20,40,80,100]}})))},A=a(649),$=a(1640),I=a(31),L=a(1354),W=a(2050);t.default=function(){var e=Object(c.a)((function(e){return{button:{margin:e.spacing(1),float:"right",background:"blue",color:"white"},input:{display:"none"}}}))(),t=Object(i.useState)(!0),a=Object(r.a)(t,2),b=a[0],h=a[1],y=Object(i.useState)([]),x=Object(r.a)(y,2),C=x[0],j=x[1],w=Object(i.useState)([]),S=Object(r.a)(w,2),N=S[0],k=S[1],T=o.a.useState(null),B=Object(r.a)(T,2),D=B[0],_=B[1],P=Object(i.useState)(null),M=Object(r.a)(P,2),V=M[0],F=M[1],H=Object(i.useState)([]),Y=Object(r.a)(H,2),G=Y[0],U=Y[1],q=Object(i.useState)(""),J=Object(r.a)(q,2),Z=J[0],K=J[1];var Q=Object(I.g)();function X(){F(),_(null)}var ee=Object(i.useState)(!1),te=Object(r.a)(ee,2),ae=te[0],ne=te[1];Object(i.useEffect)((function(){return R.g.get("mjrCategory").then((function(e){var t=e.data;K(null===t||void 0===t?void 0:t.unCategorized.filter((function(e){return e.div_id==localStorage.getItem("division")})).length),j(null===t||void 0===t?void 0:t.category.filter((function(e){return e.div_id==localStorage.getItem("division")}))),U(null===t||void 0===t?void 0:t.category.filter((function(e){return e.div_id==localStorage.getItem("division")})))})),function(){return h(!1)}}),[b]);var re=Object(i.useMemo)((function(){return Object(l.debounce)((function(e){var t=G.filter((function(t){return t.name.toLowerCase().match(e.toLowerCase())}));j(Object(n.a)(t))}),200)}),[G]);return o.a.createElement("div",{className:"m-sm-30"},o.a.createElement("div",{className:"mb-sm-30"},o.a.createElement("div",{className:"flex flex-wrap justify-between mb-6"},o.a.createElement(s.b,{routeSegments:[{name:"PRODUCT CATEGORY"}]}),o.a.createElement("div",{className:"flex justify-end pr-4"},o.a.createElement(d.a,{className:"mt-4",onChange:function(e){var t=e.target.value;re(t)},InputProps:{startAdornment:o.a.createElement(m.a,{position:"start"},o.a.createElement(u.a,null,"search"))}}),o.a.createElement(E.a,{className:"py-2 ml-4",color:"primary",size:"small",variant:"outlined",onClick:function(){ne(!0)}},o.a.createElement(u.a,null,"add"),"ADD NEW")))),o.a.createElement("div",{className:"viewer_actions px-4 flex justify-end"}),o.a.createElement("div",{className:"viewer_actions px-4 flex justify-between"},o.a.createElement("div",{className:"mb-6"},o.a.createElement(O.a,{container:!0,spacing:3},C.map((function(t,a){return o.a.createElement(O.a,{key:a,item:!0,xs:!0},o.a.createElement(L.a,{elevation:20,style:{minWidth:300,whiteSpace:"pre-line"},className:"p-2"},o.a.createElement("div",{className:"text-right"},o.a.createElement(v.a,{size:"small","aria-owns":D?"simple-menu":void 0,"aria-haspopup":"true",onClick:function(e){return function(e,t){R.g.get("sub-category/"+t).then((function(e){var a=e.data;k(a),F(t)})),_(e.currentTarget)}(e,t.id)}},o.a.createElement(g.a,{title:"Subcategory list"},o.a.createElement(u.a,{color:"primary",style:{paddingRight:12,cursor:"pointer"}},"expand_more")))),o.a.createElement(A.a,{id:"simple-menu",anchorEl:D,open:Boolean(D),onClose:X},o.a.createElement($.a,{onClick:function(){ne(!0),_(null)}},o.a.createElement(p.a,{"aria-label":"Add",size:"small",className:e.button},o.a.createElement(u.a,null,"add")),"Sub Category"),N.map((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement($.a,{value:e.id,key:e.id,onClick:function(){return t=e.id,Q.push(R.w+"/product/viewproduct/".concat(t)),void _(null);var t},style:{textAlign:"center"},className:"pl-4"},e.name,o.a.createElement("div",null,o.a.createElement(W.a,{badgeContent:e.product,style:{paddingRight:15},color:"primary"}))))}))),o.a.createElement("div",{className:"pb-5 flex justify-center"},o.a.createElement("div",{style:{display:"flex",marginLeft:"0.5rem",textAlign:"center"}},o.a.createElement("strong",null,o.a.createElement("h6",{align:"center",style:{display:"inline-block",textAlign:"center"}},t.name.toUpperCase(),o.a.createElement(W.a,{badgeContent:null===t||void 0===t?void 0:t.totalProducts,style:{paddingRight:8,position:"relative",left:6,top:"-10px"},color:"primary"})))),o.a.createElement("div",{className:"px-4"}))))})),o.a.createElement(O.a,{onClick:function(){Q.push(R.w+"/product/other")},item:!0,xs:!0},o.a.createElement(L.a,{elevation:20,style:{minWidth:300,whiteSpace:"pre-line",cursor:"pointer"},className:"p-2"},o.a.createElement("div",{className:"text-right"},o.a.createElement(W.a,{badgeContent:Z,style:{paddingRight:12,position:"relative",left:20},color:"primary"}),o.a.createElement(v.a,{size:"small","aria-owns":D?"simple-menu":void 0,"aria-haspopup":"true"},o.a.createElement(g.a,{title:"Other"},o.a.createElement(u.a,{color:"primary",style:{paddingRight:12}})))),o.a.createElement("div",{className:"pb-5 flex justify-center"},o.a.createElement("div",{style:{display:"flex",marginLeft:"0.5rem",textAlign:"center"}},o.a.createElement("strong",null,o.a.createElement("h6",{align:"center",style:{display:"inline-block",textAlign:"center"}},"OTHER"))),o.a.createElement("div",{className:"px-4"})))))),o.a.createElement(f.b,{to:"Addproduct"})),ae&&o.a.createElement(z,{handleClose:function(){F(null),ne(!1)},open:ae,catid:V,catList:j}),o.a.createElement("div",{className:"mb-sm-30"}))}}}]);