(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[218],{2015:function(e,t,a){"use strict";var n=a(3),i=a(6),o=a(0),r=a(5),c=a(11),l=a(41),s=o.forwardRef((function(e,t){var a=e.absolute,c=void 0!==a&&a,l=e.classes,s=e.className,u=e.component,m=void 0===u?"hr":u,d=e.flexItem,f=void 0!==d&&d,v=e.light,b=void 0!==v&&v,p=e.orientation,g=void 0===p?"horizontal":p,h=e.role,x=void 0===h?"hr"!==m?"separator":void 0:h,j=e.variant,y=void 0===j?"fullWidth":j,E=Object(i.a)(e,["absolute","classes","className","component","flexItem","light","orientation","role","variant"]);return o.createElement(m,Object(n.a)({className:Object(r.default)(l.root,s,"fullWidth"!==y&&l[y],c&&l.absolute,f&&l.flexItem,b&&l.light,"vertical"===g&&l.vertical),role:x,ref:t},E))}));t.a=Object(c.a)((function(e){return{root:{height:1,margin:0,border:"none",flexShrink:0,backgroundColor:e.palette.divider},absolute:{position:"absolute",bottom:0,left:0,width:"100%"},inset:{marginLeft:72},light:{backgroundColor:Object(l.a)(e.palette.divider,.08)},middle:{marginLeft:e.spacing(2),marginRight:e.spacing(2)},vertical:{height:"100%",width:1},flexItem:{alignSelf:"stretch",height:"auto"}}}),{name:"MuiDivider"})(s)},2214:function(e,t,a){"use strict";a.r(t);var n=a(18),i=a(0),o=a.n(i),r=a(673),c=a(1437),l=a(297),s=a(674),u=a(2015),m=a(31),d=a(53),f=a(1550),v=a.n(f),b=a(1414),p=a(149),g=a.n(p),h=a(4),x=a(70);t.default=function(e){e.uid;var t=e.open,a=e.handleClose,f=Object(i.useState)(""),p=Object(n.a)(f,2),j=p[0],y=p[1],E=Object(i.useState)(""),O=Object(n.a)(E,2),w=O[0],C=O[1],N=Object(i.useState)([]),S=Object(n.a)(N,2),k=S[0],I=S[1],D=Object(i.useState)(!0),R=Object(n.a)(D,2),T=R[0],z=(R[1],Object(m.g)()),A=o.a.useState(!0),B=Object(n.a)(A,2),W=B[0],V=(B[1],o.a.useState("md")),_=Object(n.a)(V,2),q=_[0],F=(_[1],Object(x.a)().user);Object(i.useEffect)((function(){}));var J=[{name:"name",label:"Name",options:{filter:!0}},{name:"description",label:"Description",options:{filter:!0}},{name:"id",label:"Action",options:{filter:!0,customBodyRender:function(e,t,a){return o.a.createElement(r.a,{onClick:function(){return e=t.rowData[2],void g.a.fire({title:"Are you sure you want to delete this category?",text:"Any products, services, or categories in it will be uncategorised.",icon:"danger",showCancelButton:!0,customClass:{zIndex:1e3},confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(t){t.value?h.g.delete("categories/".concat(e)).then((function(e){})):t.dismiss===g.a.DismissReason.cancel&&g.a.fire({customClass:{zIndex:1e3},title:"Cancelled"})}));var e}},o.a.createElement(b.a,{color:"error"},"delete"))}}}];return o.a.createElement(c.a,{onClose:a,open:t,className:"px-6 pt-2 pb-4",style:{zIndex:1e3},fullWidth:W,maxWidth:q},o.a.createElement("div",{className:"p-6"},o.a.createElement("h4",{className:"mb-5"},"Add Category"),o.a.createElement(d.ValidatorForm,{onSubmit:function(){var e={name:j,description:w,user_id:F.id,div_id:localStorage.getItem("division")};h.g.post("categories",e).then((function(e){g.a.fire({title:"Success",type:"success",icon:"success",text:"Data saved successfully."}),Object(h.m)(),z.push("/product/viewproduct")})).catch((function(e){})),C(""),y("")},autoComplete:"off"},o.a.createElement(l.a,{className:"mb-4",container:!0,spacing:4},o.a.createElement(l.a,{item:!0,sm:6,xs:12},o.a.createElement(d.TextValidator,{className:"w-full mb-4",label:"Name",variant:"outlined",onChange:function(e){return y(e.target.value)},type:"text",name:"cname",value:j,validators:["required"],errorMessages:["this field is required"]})),o.a.createElement(l.a,{item:!0,sm:6,xs:12},o.a.createElement(d.TextValidator,{className:"w-full mb-4",label:"Description",onChange:function(e){return C(e.target.value)},variant:"outlined",type:"textarea",name:"cdescription",value:w}))),o.a.createElement("div",{className:"flex justify-between items-center"},o.a.createElement(s.a,{variant:"contained",color:"primary",type:"submit"},"Save"),o.a.createElement("div",{className:"flex justify-between items-center"},o.a.createElement(s.a,{variant:"outlined",color:"secondary",onClick:function(){return a()}},"Cancel"),o.a.createElement(s.a,{variant:"outlined",color:"primary",onClick:function(){h.g.get("products-in-category").then((function(e){var t=e.data;T&&I(t)}))}},"view")))),o.a.createElement(u.a,{className:"mb-2"}),T&&o.a.createElement(v.a,{title:"Category",columns:J,data:k.filter((function(e){return e.div_id==localStorage.getItem("division")})),options:{filterType:"textField",responsive:"simple",selectableRows:"none",elevation:0,rowsPerPageOptions:[10,20,40,80,100]}})))}}}]);