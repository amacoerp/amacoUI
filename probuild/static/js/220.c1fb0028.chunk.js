(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[220],{2353:function(e,a,t){"use strict";t.d(a,"a",(function(){return i})),t.d(a,"b",(function(){return r}));var n=t(26),l=t.n(n),i=function(e){if(!e.discount)return e.price*e.quantity||0;if("$"===e.discountType)return e.price*e.quantity-e.discount||0;var a=e.price*e.quantity;return a-a*e.discount/100||0},r=function(){return l.a.get("/api/ecommerce/get-product-list")}},3463:function(e,a,t){"use strict";t.r(a);var n=t(36),l=t.n(n),i=t(60),r=t(0),c=t.n(r),m=t(2160),s=t(1354),o=t(2015),u=t(297),p=t(594),E=t(674),d=t(18),f=t(1627),h=t(1633),v=t(1628),g=t(1632),N=t(1630),b=t(673),x=t(1414),S=t(2099),C=t(2353),w=function(e){var a=e.values,t=e.handleChange,n=(e.setFieldValue,Object(r.useState)(!0)),l=Object(d.a)(n,2),i=l[0],s=l[1],o=Object(r.useState)([]),u=Object(d.a)(o,2),w=u[0],y=u[1];return Object(r.useEffect)((function(){return Object(C.b)().then((function(e){var a=e.data;i&&y(a)})),function(){return s(!1)}}),[i]),c.a.createElement(m.a,{name:"items"},(function(e){var n;return c.a.createElement("div",{className:"overflow-auto"},c.a.createElement(f.a,{className:"whitespace-pre min-w-750"},c.a.createElement(h.a,null,c.a.createElement(v.a,null,c.a.createElement(g.a,{colSpan:4},"product"),c.a.createElement(g.a,{colSpan:4},"Description"),c.a.createElement(g.a,{colSpan:2},"price"),c.a.createElement(g.a,{colSpan:2},"Discount"),c.a.createElement(g.a,{colSpan:1,className:"p-0",align:"center"}))),c.a.createElement(N.a,null,null===(n=a.items)||void 0===n?void 0:n.map((function(a,n){return c.a.createElement(v.a,{className:"position-relative",key:n},c.a.createElement(g.a,{colSpan:4,className:"p-0",align:"left"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("img",{className:"w-48",src:null===a||void 0===a?void 0:a.imgUrl,alt:""}),c.a.createElement(S.a,{className:"w-full",size:"small",options:w,getOptionLabel:function(e){return e.title},renderInput:function(e){return c.a.createElement(p.a,Object.assign({},e,{variant:"outlined",fullWidth:!0}))},onChange:function(e,a){t({target:{name:"items[".concat(n,"]"),value:a}})}}))),c.a.createElement(g.a,{colSpan:2,className:"p-0",align:"left"},c.a.createElement(p.a,{name:"items[".concat(n,"].quantity"),size:"small",variant:"outlined",type:"number",fullWidth:!0,defaultValue:a.quantity||"",onChange:t})),c.a.createElement(g.a,{colSpan:4,className:"p-0",align:"left"},c.a.createElement(p.a,{name:"items[".concat(n,"].price"),size:"small",variant:"outlined",type:"text",fullWidth:!0,value:a.price||"",onChange:t})),c.a.createElement(g.a,{colSpan:2,className:"p-0",align:"center"},Object(C.a)(a).toFixed(2)),c.a.createElement(g.a,{colSpan:1,className:"p-0",align:"center"},c.a.createElement(b.a,{size:"small",onClick:function(){return e.remove(n)}},c.a.createElement(x.a,{color:"error",fontSize:"small"},"clear"))))})))),c.a.createElement(E.a,{className:"mt-4",color:"primary",variant:"contained",size:"small",onClick:function(){return e.push({})}},"+ Add New Item"))}))},y=t(100),F={customerType:"",otherField:"Adjustment"};a.default=function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=0;return e.forEach((function(e){a+=Object(C.a)(e)})),a},a=function(){var e=Object(i.a)(l.a.mark((function e(a,t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isSubmitting;case 1:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"m-sm-30"},c.a.createElement("div",{className:"mb-sm-30"},c.a.createElement(y.b,{routeSegments:[{name:"View",path:"/sales/Viewrfq"},{name:"RFQ"}]})),c.a.createElement(s.a,{elevation:3},c.a.createElement("div",{className:"flex p-4"},c.a.createElement("h4",{className:"m-0"},"New Quoatation")),c.a.createElement(o.a,{className:"mb-2"}),c.a.createElement(m.b,{initialValues:F,onSubmit:a,enableReinitialize:!0},(function(a){var t=a.values,n=(a.errors,a.touched,a.handleChange),l=(a.handleBlur,a.handleSubmit),i=(a.isSubmitting,a.setSubmitting,a.setFieldValue);return c.a.createElement("form",{className:"p-4",onSubmit:l},c.a.createElement("div",{className:"viewer__order-info px-4 mb-4 flex justify-between"},c.a.createElement("div",null,c.a.createElement("p",{className:"mb-4"},"Customer Name"),c.a.createElement("p",{className:"mb-0"},"# ")),c.a.createElement("div",{className:"text-right"},c.a.createElement("h5",{className:"font-normal mb-4 capitalize"},c.a.createElement("strong",null,"Requested date: ")," ",c.a.createElement("span",null)),c.a.createElement("h5",{className:"font-normal capitalize"},c.a.createElement("strong",null,"Due date: ")," ",c.a.createElement("span",null)))),c.a.createElement(u.a,{container:!0,spacing:3,alignItems:"center"},c.a.createElement(u.a,{item:!0,xs:12},c.a.createElement(o.a,null))),c.a.createElement("div",{className:"mb-8"},c.a.createElement(w,{values:t,setFieldValue:i,handleChange:n})),c.a.createElement("div",{className:"mb-8"},c.a.createElement(u.a,{container:!0,spacing:3},c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(p.a,{label:"Custom Notes",name:"notes",size:"small",variant:"outlined",multiline:!0,rows:6,fullWidth:!0,value:t.notes,onChange:n})),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(s.a,{className:"bg-default p-4",elevation:0},c.a.createElement(u.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center"},c.a.createElement(u.a,{item:!0,xs:6},"Sub Total"),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"text-right"},e(t.items).toFixed(2))),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("span",{className:"whitespace-pre"},"Shipping Charges"),c.a.createElement(p.a,{className:"ml-3",name:"shippingCharge",size:"small",type:"number",variant:"outlined",value:t.shippingCharge||"",onChange:n}))),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"text-right"},(t.shippingCharge||0).toFixed(2))),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(p.a,{name:"otherField",size:"small",variant:"outlined",value:t.otherField||"",onChange:n}),c.a.createElement(p.a,{className:"ml-3",name:t.otherField,size:"small",variant:"outlined",type:"number",value:t[t.otherField]||"",onChange:n}))),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"text-right"},(t[t.otherField]||0).toFixed(2))),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("h5",{className:"m-0"},"Total ( $ )")),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("div",{className:"text-right"},c.a.createElement("h5",{className:"m-0"},function(a){var t=0;return t+=e(a.items),t+=a.shippingCharge||0,t+=a[a.otherField]||0}(t).toFixed(2))))))))),c.a.createElement(s.a,{className:"bg-default p-4",elevation:0},c.a.createElement(u.a,{container:!0,spacing:3},c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement(p.a,{label:"Terms & Conditions",name:"terms_conditions",size:"small",variant:"outlined",multiline:!0,rows:6,fullWidth:!0,value:t.terms_conditions,onChange:n})),c.a.createElement(u.a,{item:!0,xs:6},c.a.createElement("input",{className:"hidden",onChange:function(e){return i("files",e.target.files)},id:"upload-multiple-file",type:"file",multiple:!0})))),c.a.createElement("div",{className:"mt-6"},c.a.createElement(E.a,{color:"primary",variant:"contained",type:"submit"},"Submit")))}))))}}}]);