(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[169],{1692:function(e,t,a){e.exports=a.p+"static/media/amaco-logo.6510d041.png"},1697:function(e,t,a){"use strict";var n=a(17),l=a(0),i=a.n(l),r=a(4);t.a=function(e){var t=e.p,a=Object(l.useState)([]),c=Object(n.a)(a,2),o=c[0],s=c[1];return Object(l.useEffect)((function(){r.g.get("company").then((function(e){var t=e.data;s(t[0])})),console.log("sss",t)}),[]),i.a.createElement("footer",{style:{visibility:"hidden"}},i.a.createElement("div",null,i.a.createElement("div",{id:"outer",class:"outer",style:{position:"relative",width:"1050px",backgroundColor:"#c1c1c1",transform:"skew(-20deg)",marginLeft:"40px",marginRight:"50px"}},i.a.createElement("p",{style:{color:"#fff",paddingTop:5,paddingBottom:5,transform:"skew(20deg)"},align:"center"}," Tel.: ",o.contact,"| Fax: ",o.fax," | P.O.Box ",o.po_box," | Jubail 31951 | Kingdom of Saudi Arabia"),i.a.createElement("div",{id:"spacer",style:{width:"200px",height:"10px",marginRight:0}}),i.a.createElement("div",{style:{position:"fixed",bottom:0,width:"100%",height:30,backgroundColor:"#1d2257"}}," ",i.a.createElement("p",{style:{textAlign:"center",color:"white",fontFamily:"Calibri",paddingTop:5,paddingBottom:10,transform:"skew(20deg)"}},"E-mail: ",o.email," | Website: ",o.website)))))}},1719:function(e,t,a){"use strict";var n=a(17),l=a(0),i=a.n(l),r=(a(1692),a(4)),c=a(591),o=a(1400),s=a(678),m=a(647),d=a(1589),u=(a(1748),a(220)),p=a.n(u);t.a=function(){var e,t,a,u,f=Object(l.useState)([]),v=Object(n.a)(f,2),b=v[0],E=v[1],g=Object(l.useState)([]),y=Object(n.a)(g,2),x=y[0],h=y[1],N=Object(l.useState)(""),j=Object(n.a)(N,2),O=j[0],_=j[1],S=Object(l.useState)(""),w=Object(n.a)(S,2),C=w[0],z=w[1],F=Object(l.useState)(!1),I=Object(n.a)(F,2),T=I[0],k=I[1],R=Object(l.useState)(""),W=Object(n.a)(R,2),A=W[0],D=W[1],L=Object(l.useState)(""),B=Object(n.a)(L,2),Y=B[0],q=B[1],M=Object(l.useState)(""),V=Object(n.a)(M,2),P=V[0],U=V[1],H=Object(l.useState)(""),Q=Object(n.a)(H,2),J=Q[0],G=Q[1],K=Object(l.useState)(!1),X=Object(n.a)(K,2),Z=X[0],$=X[1],ee=Object(l.useState)([]),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],le=(Boolean(re),Object(l.useState)(null)),ie=Object(n.a)(le,2),re=ie[0],ce=ie[1];return Object(l.useEffect)((function(){return r.g.get("company").then((function(e){var t=e.data;E(t[0])})),r.g.get("singleDivision/".concat(localStorage.getItem("division"))).then((function(e){var t=e.data;h(t.div),_(t.div[0].name),z(t.div[0].opening_balance),q(t.div[0].company_arabic),D(t.div[0].company_name),U(t.div[0].cr_no),G(t.div[0].vat_no),ne(t.divs)})),$(!0)}),[Z]),i.a.createElement("thead",{style:{display:"table-header-group",marginTop:"20px"}},i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("div",{class:"empty-header"},i.a.createElement("div",{className:"px-2 flex justify-between"},i.a.createElement("div",{className:"flex"},i.a.createElement("div",{className:"pr-12"},(localStorage.getItem("division"),i.a.createElement(i.a.Fragment,null,i.a.createElement("img",{src:null===b||void 0===b?void 0:b.image1,alt:"logo",style:{marginLeft:"15px",width:237}})))),i.a.createElement("div",{className:"viewer__order-info px-4 mb-4 flex justify-between"})),i.a.createElement("div",{className:"flex pr-4 mr-1"},i.a.createElement("div",{style:{marginLeft:"50px"}},0==T?i.a.createElement("h2",{style:{color:"#1d2257",textAlign:"right"}},i.a.createElement(i.a.Fragment,null,null===(e=x[0])||void 0===e?void 0:e.company_arabic)):i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{value:Y,onChange:function(e){return q(e.target.value)}}),i.a.createElement(o.a,{onClick:function(){return function(){var e={name:O,opening_bal:C,id:localStorage.getItem("division"),company_name:A,company_arabic:Y,cr_no:P,vat_no:J};r.g.put("division/".concat(localStorage.getItem("division")),e).then((function(e){p.a.fire({icon:"success",type:"success",text:"Data updated successfully."}),k(!1),$(!1)}))}()}},"done"),i.a.createElement("br",null)),i.a.createElement(i.a.Fragment,null,0==T?i.a.createElement("h3",{style:{color:"#1d2257",textAlign:"right",fontSize:20}},null===(t=x[0])||void 0===t?void 0:t.company_name.toUpperCase()):i.a.createElement(c.a,{value:A,onChange:function(e){return D(e.target.value)}})),i.a.createElement("h5",{style:{color:"#555",textAlign:"right",fontSize:17},className:"font-normal b-4 capitalize"},0==T?i.a.createElement(i.a.Fragment,null," C.R.",null===(a=x[0])||void 0===a?void 0:a.cr_no," "):i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{value:P,onChange:function(e){return U(e.target.value)}}),i.a.createElement("br",null)),0==T?i.a.createElement(i.a.Fragment,null,"| VAT ",null===(u=x[0])||void 0===u?void 0:u.vat_no):i.a.createElement(c.a,{value:J,onChange:function(e){return G(e.target.value)}})),i.a.createElement(s.a,{style:{float:"right"},variant:"",color:"",className:"mr-4 py-2 changeHeadButton","aria-owns":re?"simple-menu":void 0,"aria-haspopup":"true",onClick:function(e){ce(e.currentTarget)}},"CHANGE HEADER ",i.a.createElement(o.a,null,"expand_more")),i.a.createElement(m.a,{id:"simple-menu",anchorEl:re,open:Boolean(re),onClose:function(){ce(null)}},ae.map((function(e,t){return i.a.createElement(d.a,{value:e.id,onClick:function(t){var a;a=e.id,r.g.get("company").then((function(e){var t=e.data;E(t[0])})),r.g.get("singleDivision/".concat(a)).then((function(e){var t=e.data;h(t.div),_(t.div[0].name),z(t.div[0].opening_balance),q(t.div[0].company_arabic),D(t.div[0].company_name),U(t.div[0].cr_no),G(t.div[0].vat_no),ce(null)}))},key:t},e.name)}))))))))))}},1725:function(e,t,a){},1746:function(e,t,a){e.exports=a.p+"static/media/vision2030.a6e8f10c.png"},1747:function(e){e.exports=JSON.parse('{"app.header":"\u0642\u0645 \u0628\u062a\u062d\u0631\u064a\u0631 \u0627\u0644\u0645\u0644\u0641\u0627\u062a \u0648\u062d\u0641\u0638\u0647\u0627 \u0644\u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u062a\u062d\u0645\u064a\u0644","app.content":"\u062a\u0639\u0644\u0645 React","app.channel.plug":"\u0634\u0631\u0643\u0629 \u0623\u0645\u0627\u0643\u0648 \u0627\u0644\u0639\u0631\u0628\u064a\u0629 \u0644\u0644\u0645\u0642\u0627\u0648\u0644\u0627\u062a","pono":"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062a\u0648\u0631\u0629","podate":"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0635\u062f\u0627\u0631","vatinvoice":"\u0641\u0627\u062a\u0648\u0631\u0629 \u0636\u0631\u064a\u0628\u0629 \u0627\u0644\u0642\u064a\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629","companyname":"\u0627\u0633\u0645 \u0627\u0644\u0634\u0631\u0643\u0629 \u0648\u0639\u0646\u0648\u0627\u0646\u0647\u0627","po_no":"\u0638\u0631\u064a\u0628\u0647 \u0627\u0644\u0634\u0631\u0627\u0621","vatno":"\u0631\u0642\u0645 \u0627\u0645\u0631\u0627\u0644\u0634\u0631\u0627\u0621","preparedby":"\u0623\u0639\u062f\u062a \u0628\u0648\u0627\u0633\u0637\u0629","approvedby":"\u0627\u0639\u062a\u0645\u062f\u062a \u0628\u0648\u0627\u0633\u0629","receivedby":"\u0627\u0633\u062a\u0644\u0645\u062a \u0645\u0646 \u0642\u0628\u0644"}')},1748:function(e,t,a){},3400:function(e,t,a){"use strict";a.r(t);var n=a(7),l=a(17),i=a(19),r=a(0),c=a.n(r),o=(a(1797),a(1747),a(28)),s=a(1594),m=a.n(s),d=a(1719),u=a(1468),p=a(1697),f=(a(1725),a(1340)),v=a(677),b=a(1400),E=a(678),g=a(399),y=a(1488),x=a(1493),h=a(1489),N=a(1588),j=a(1491),O=a(44),_=a(4),S=a(673),w=a(5),C=(a(24),a(185),a(683),a(1692),a(1746),a(220),a(87)),z=a(1584),F=(navigator.language,Object(S.a)((function(e){e.palette,Object(i.a)(e,["palette"]);return{"@global":{"@media print":{"body, html":{visibility:"hidden",size:"auto",content:"none !important","-webkit-print-color-adjust":"exact !important",marginTop:"10px"},"#header":{position:"fixed",left:0,justifySelf:"end"},".empty-header":{height:"100px",marginTop:"10px"},".empty-footer":{height:"150px",marginTop:"10px"},".header":{position:"fixed",height:"100px",top:0},".footer":{position:"fixed",height:"150px",bottom:0,width:"100%"},"#footer":{backgroundColor:"#F8F8F8",borderTop:"1px solid #E7E7E7",textAlign:"center",bottom:"0",position:"fixed",width:"100%",justifySelf:"end"},"#table":{display:"-webkit-box",display:"-ms-flexbox",width:"650px",margin:"15px",position:"absolute"},"#print-area":{left:0,right:0,boxDecorationBreak:"clone",position:"relative","& *":{visibility:"visible"}}}},invoiceViewer:{}}})));t.default=function(e){e.toggleInvoiceEditor;var t=Object(r.useState)({}),a=Object(l.a)(t,2),i=a[0],s=(a[1],Object(r.useState)("")),S=Object(l.a)(s,2),I=S[0],T=S[1],k=Object(r.useState)([]),R=Object(l.a)(k,2),W=R[0],A=R[1],D=Object(r.useState)([]),L=Object(l.a)(D,2),B=L[0],Y=L[1],q=Object(r.useState)(""),M=Object(l.a)(q,2),V=M[0],P=M[1],U=Object(r.useState)(""),H=Object(l.a)(U,2),Q=H[0],J=H[1],G=Object(r.useState)(""),K=Object(l.a)(G,2),X=K[0],Z=K[1],$=Object(r.useState)(""),ee=Object(l.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.i)(),le=ne.id,ie=ne.s,re=F(),ce=Object(r.useRef)(),oe=Object(C.a)(),se=oe.settings,me=oe.updateSettings,de=Object(o.g)(),ue=Object(r.useState)([]),pe=Object(l.a)(ue,2),fe=pe[0],ve=pe[1],be=0,Ee=Object(z.useReactToPrint)({content:function(){return ce.current},header:function(){return ce.current}});Object(r.useEffect)((function(){document.title="Delivery Note - Amaco",_.g.get("invoice_delivery_note/"+le+"/".concat(ie)).then((function(e){var t,a,n,l,i,r,c,o,s,m,d,u,p,f,v,b,E,g,y=e.data;(T(null===(t=y[1])||void 0===t?void 0:t.created_at),null!==(null===(a=y[1])||void 0===a||null===(n=a.quotation)||void 0===n?void 0:n.contact))&&P(null===(r=y[1])||void 0===r||null===(c=r.quotation)||void 0===c||null===(o=c.contact)||void 0===o?void 0:o.fname);"invoice"===ie?(Y(null===(s=y[1])||void 0===s||null===(m=s.invoice)||void 0===m||null===(d=m.party)||void 0===d?void 0:d.firm_name),ae(null===(u=y[1])||void 0===u||null===(p=u.invoice)||void 0===p?void 0:p.invoice_no)):(Y(null===(f=y[1])||void 0===f||null===(v=f.quotation)||void 0===v||null===(b=v.party)||void 0===b?void 0:b.firm_name),ae(null===(E=y[1])||void 0===E||null===(g=E.quotation)||void 0===g?void 0:g.quotation_no));A(y[0]),Z(null===(l=y[1])||void 0===l?void 0:l.delivery_number),J(null===(i=y[1])||void 0===i?void 0:i.po_number)}))}),[le]);window.onafterprint=function(){window.close(),window.location.href=""};i.orderNo,i.buyer,i.seller,i.item,i.status;var ge=i.vat;i.date;return c.a.createElement(f.a,{elevation:6,className:"m-sm-30"},c.a.createElement("div",{className:Object(w.default)("invoice-viewer py-4",re.invoiceViewer)},c.a.createElement("div",{className:"viewer_actions px-4 mb-5 flex items-center justify-between"},c.a.createElement(O.b,{onClick:function(){return function(e){if("close"==e.mode){var t=se.activeLayout+"Settings",a=se[t];me(Object(n.a)(Object(n.a)({},se),{},{[t]:Object(n.a)(Object(n.a)({},a),{},{leftSidebar:Object(n.a)(Object(n.a)({},a.leftSidebar),e)})}))}else de.push(_.w+"/dnoteview")}({mode:"on"})}},c.a.createElement(v.a,null,c.a.createElement(b.a,null,"arrow_back"))),c.a.createElement("div",null,c.a.createElement(E.a,{onClick:function(){var e=Math.ceil(ce.current.scrollHeight/1123);console.log(ce.current.scrollHeight),ce.current.scrollHeight<=1529&&(e=1),console.log(e);for(var t=[],a=0;a<e;a++){var n=a,l="Page "+(n=++n)+" of "+e;t[a]=l}console.log(t),ve(t),setTimeout((function(){Ee()}),500)},className:"py-2",color:"secondary",variant:"outlined"},"PRINT DELIVERYNOTE"))),c.a.createElement("div",{id:"print-area",ref:ce,style:{fontFamily:"Calibri",fontSize:16}},fe.map((function(e,t){return 0==t?be=1515:be+=1568,c.a.createElement("span",{className:"showPageNumber",style:{position:"fixed",top:be,left:"50%",display:"none"}}," ",c.a.createElement("center",null,e))})),c.a.createElement("table",null,c.a.createElement(d.a,null),c.a.createElement("hr",null),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,c.a.createElement("div",{className:"px-4 flex justify-between"},c.a.createElement("div",{className:"flex"},c.a.createElement("div",{className:"pl-2 mb-4"},c.a.createElement("h3",{style:{fontSize:20}},c.a.createElement("strong",null,"DELIVERY NOTE")),ge))),c.a.createElement("div",{className:"px-4 flex justify-between"},c.a.createElement("div",{className:"px-2 flex justify-left"},c.a.createElement("div",{className:"flex "},c.a.createElement("div",{className:""},c.a.createElement("div",{className:"pl-2"},c.a.createElement("h5",{style:{fontWeight:1e3}})),c.a.createElement("div",{className:"pl-2 "},c.a.createElement("h5",{style:{fontWeight:1e3}})),c.a.createElement("div",{className:"pl-2 "},c.a.createElement("h5",{style:{fontWeight:1e3}}))),c.a.createElement("div",null)))),c.a.createElement(u.a,{display:"flex",p:1,bgcolor:"background.paper",className:"pl-2 pr-2 flex justify-between"},c.a.createElement(g.a,{container:!0,spacing:3,className:"p-4"},c.a.createElement(g.a,{className:"pl-2 pb-4 pr-2 mr-2",xs:5,style:{wordBreak:"break-word"}},c.a.createElement("span",{style:{fontWeight:1e3}},"CUSTOMER NAME"),c.a.createElement("br",null),B),c.a.createElement(g.a,{className:"pl-0 pb-4",xs:4},c.a.createElement("span",{style:{fontWeight:1e3}},"DELIVERY DATE"),c.a.createElement("br",null),m()(I).format("DD MMM YYYY")),c.a.createElement(g.a,{className:"pl-2 pb-4 pr-0 mr-1",align:"right",xs:!0},c.a.createElement("span",{style:{fontWeight:1e3}},"P.O. NUMBER"),c.a.createElement("br",null),Q||"--"))),c.a.createElement(u.a,{display:"flex",p:1,bgcolor:"background.paper",className:"pl-2 pr-2 flex justify-between"},c.a.createElement(g.a,{container:!0,spacing:3,className:"p-4"},c.a.createElement(g.a,{className:"pl-2 pb-4 pr-2 mr-2",xs:5,style:{wordBreak:"break-word"}},c.a.createElement("span",{style:{fontWeight:1e3}},"ATTENTION"),c.a.createElement("br",null),V||"--"),c.a.createElement(g.a,{className:"pl-0 pb-4",xs:4},c.a.createElement("span",{style:{fontWeight:1e3}},"DELIVERY NUMBER"),c.a.createElement("br",null),X),c.a.createElement(g.a,{className:"pl-2 pb-4 pr-0 mr-1",align:"right",xs:!0},c.a.createElement("span",{style:{fontWeight:1e3}},"invoice"==ie?"INVOICE NUMBER":"QUOTATION NUMBER"),c.a.createElement("br",null),te))),c.a.createElement(f.a,{className:"mb-4",elevation:0,title:"",borderRadius:"borderRadius"},c.a.createElement("div",{className:"viewer__order-info px-4 mb-4 pt-5 flex justify-between"},c.a.createElement(y.a,{style:{border:"1px solid #ccc",fontSize:16}},c.a.createElement(x.a,{style:{backgroundColor:"#1d2257",display:"table-row-group"}},c.a.createElement(h.a,{style:{border:"1px solid #ccc"}},c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"S.No."),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center",colspan:3},"DESCRIPTION"),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"UOM"),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"QTY"),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"DELIVERED QTY"),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"DELIVERING  QTY"),c.a.createElement(N.a,{className:"pr-0",style:{border:"1px solid #ccc",fontFamily:"Calibri",color:"#fff",fontWeight:1e3,fontSize:"11pt"},align:"center"},"BALANCE QTY"))),c.a.createElement(j.a,null,W.map((function(e,t){var a,n,l,i,r,o,s,m,d,u,p,f,v,b;return c.a.createElement(h.a,{key:t,style:{border:"1px solid #ccc"}},c.a.createElement(N.a,{className:"pr-0",align:"center",colspan:1,style:{border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},t+1),c.a.createElement(N.a,{className:"pl-2 capitalize",align:"left",colspan:3,style:{border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},(null===(a=e[0])||void 0===a?void 0:a.description)?null===(n=e[0])||void 0===n?void 0:n.description:null===(l=e[0])||void 0===l||null===(i=l.delivery_notes_detail)||void 0===i?void 0:i.product_descriptions),c.a.createElement(N.a,{className:"pr-0 capitalize",align:"center",style:{border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},e[0].delivery_notes_detail.unit_of_measure?null===(r=e[0])||void 0===r?void 0:r.delivery_notes_detail.unit_of_measure:null===(o=e[0])||void 0===o||null===(s=o.delivery_notes_detail)||void 0===s||null===(m=s.product)||void 0===m?void 0:m.unit_of_measure),c.a.createElement(N.a,{className:"pr-0 capitalize",align:"center",style:{border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},parseInt(null===(d=e[0])||void 0===d?void 0:d.total_quantity).toLocaleString()),c.a.createElement(N.a,{className:"pr-0 capitalize",style:{textAlign:"center",border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},parseInt(null===(u=e[0])||void 0===u?void 0:u.total_delivered_quantity).toLocaleString()),c.a.createElement(N.a,{className:"pr-0 capitalize",style:{textAlign:"center",border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},parseInt(null===(p=e[0])||void 0===p?void 0:p.delivering_quantity).toLocaleString()),c.a.createElement(N.a,{className:"pr-0 capitalize",style:{textAlign:"center",border:"1px solid #ccc",fontFamily:"Calibri",fontSize:16}},parseInt(parseInt(null===(f=e[0])||void 0===f?void 0:f.total_quantity)-parseInt(null===(v=e[0])||void 0===v?void 0:v.total_delivered_quantity)-parseInt(null===(b=e[0])||void 0===b?void 0:b.delivering_quantity)).toLocaleString()))}))))),c.a.createElement("br",null),c.a.createElement("div",{className:"viewer__order-info px-4 mb-4 flex justify-between"},c.a.createElement("div",{className:"ml-24",style:{fontWeight:1e3}},"Prepared by"),c.a.createElement("div",{className:"ml-4",style:{fontWeight:1e3}},"Delivered by"),c.a.createElement("div",{className:"mr-24",style:{fontWeight:1e3}},c.a.createElement("h5",{style:{fontWeight:1e3}},"Received by"))),c.a.createElement("div",{className:"viewer__order-info px-4 mb-4  flex justify-between"},c.a.createElement("div",{className:"ml-4"}),c.a.createElement("div",{className:"mr-14"},c.a.createElement("h5",{className:"font-normal  capitalize"},"Employee Name & ID:"))),c.a.createElement("div",{className:"viewer__order-info px-4 mb-4 pt-20 flex justify-between"},c.a.createElement("div",{className:"ml-4"}),c.a.createElement("div",{className:"mr-4"},c.a.createElement("h5",{className:"font-normal t-4 capitalize",style:{textAlign:"center"}},"--------------------------------------------"),c.a.createElement("h5",{className:"t-4 capitalize",style:{textAlign:"center",fontWeight:1e3}},"(Sign & Stamp)"))),c.a.createElement("div",null)),c.a.createElement("div",null)))),c.a.createElement("tfoot",null,c.a.createElement("div",{class:"empty-footer"}))),c.a.createElement("div",{class:"footer"},c.a.createElement(p.a,null)))))}}}]);